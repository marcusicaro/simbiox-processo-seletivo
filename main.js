(()=>{const e="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=b0ff0a64099e470410a2faf2a068f56a",n="https://image.tmdb.org/t/p/w500",t=document.getElementById("main"),i=document.getElementById("form"),s=(document.getElementById("search"),document.getElementById("logo")),a=document.getElementById("previous"),d=document.getElementById("current"),l=document.getElementById("next");var o=0,c=0,r=0,v="",m=0;function p(e){v=e,fetch(e).then((e=>e.json())).then((e=>{!function(e){t.innerHTML="",e.forEach((e=>{const{title:i,poster_path:s,vote_average:a,overview:d,id:l}=e,o=document.createElement("div");o.classList="movie-card",o.innerHTML=`\n        <img src="${n+s}" alt="${i}" srcset="">\n        \n        <div class="movie-info"></div>\n      \n        <div class="movie-info">\n          <h3>${i}</h3>\n          <span class="${g(a)}">${a}</span>\n        </div>\n\n        <div class="movie-id">\n        <p>ID: ${l}</p>\n        </div>\n        `,t.appendChild(o),o.addEventListener("click",(e=>{e.preventDefault(),t.innerHTML="",o.innerHTML=`\n            <img src="${n+s}" alt="${i}" srcset="">\n            \n            <div class="movie-info"></div>\n          \n            <div class="movie-info">\n              <h3>${i}</h3>\n              <span class="${g(a)}">${a}</span>\n            </div>\n    \n            <div class="overview">\n              <p>${d}</p>\n            </div>\n    \n            <div class="movie-id">\n            <p>ID: ${l}</p>\n            </div>\n            `,t.appendChild(o)}))}))}(e.results),o=e.page,c=e.page+1,r=e.page-1,m=e.total_pages,d.innerText=o,o<=1?(a.classList.add("disabled"),l.classList.remove("disabled")):o>=m?(a.classList.remove("disabled"),l.classList.add("disabled")):(a.classList.remove("disabled"),l.classList.remove("disabled"))}))}function g(e){return e>7.5?"green":e<8&&e>6?"orange":"red"}function f(e){let n=v.split("?"),t=n[1].split("&"),i=t[t.length-1].split("=");if("page"!=i[0])p(v+"&page="+e);else{i[1]=e.toString();let s=i.join("=");t[t.length-1]=s;let a=t.join("&");p(n[0]+"?"+a)}}i.addEventListener("submit",(n=>{n.preventDefault();const t=search.value;if(t)return p("https://api.themoviedb.org/3/search/movie?api_key=b0ff0a64099e470410a2faf2a068f56a&query="+t);p(e)})),s.addEventListener("click",(()=>{p(e)})),l.addEventListener("click",(()=>{c<=m&&f(c)})),a.addEventListener("click",(()=>{r>0&&f(r)})),p(e)})();