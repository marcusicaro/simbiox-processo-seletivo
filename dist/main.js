(()=>{const e="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=b0ff0a64099e470410a2faf2a068f56a",n="https://image.tmdb.org/t/p/w500",i=document.getElementById("main"),t=document.getElementById("form"),s=(document.getElementById("search"),document.getElementById("logo"));function a(e){fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),function(e){i.innerHTML="",e.forEach((e=>{const{title:t,poster_path:s,vote_average:a,overview:d,id:r}=e,c=document.createElement("div");c.classList="movie-card",c.innerHTML=`\n        <img src="${n+s}" alt="${t}" srcset="">\n        \n        <div class="movie-info"></div>\n      \n        <div class="movie-info">\n          <h3>${t}</h3>\n          <span class="${o(a)}">${a}</span>\n        </div>\n\n        <div class="movie-id">\n        <p>ID: ${r}</p>\n        </div>\n        `,i.appendChild(c),c.addEventListener("click",(e=>{e.preventDefault(),i.innerHTML="",c.innerHTML=`\n            <img src="${n+s}" alt="${t}" srcset="">\n            \n            <div class="movie-info"></div>\n          \n            <div class="movie-info">\n              <h3>${t}</h3>\n              <span class="${o(a)}">${a}</span>\n            </div>\n    \n            <div class="overview">\n              <p>${d}</p>\n            </div>\n    \n            <div class="movie-id">\n            <p>ID: ${r}</p>\n            </div>\n            `,i.appendChild(c)}))}))}(e.results)}))}function o(e){return e>8?"green":e<8&&e>6?"orange":"red"}t.addEventListener("submit",(n=>{n.preventDefault();const i=search.value;if(i)return a("https://api.themoviedb.org/3/search/movie?api_key=b0ff0a64099e470410a2faf2a068f56a&query="+i);a(e)})),s.addEventListener("click",(()=>{a(e)})),a(e)})();